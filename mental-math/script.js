let a=0;let b=0;let c;let d=0;let e=0;let f=0;let g='x';let h=Array(0,1,2,3);let i=!1;let j=!1;document.addEventListener('DOMContentLoaded',function(){document.getElementById('startButton').addEventListener('click',k);document.getElementById('stopButton').addEventListener('click',l);for(let A=0;A<4;A++)document.getElementById('choice'+`${A}`).addEventListener('click',_=>n(A));u()});function k(){a=0;o();document.getElementById('currentScore').textContent=a;document.getElementById('displayA').classList.remove('active');document.getElementById('displayB').classList.add('active');document.getElementById('history').classList.add('active-flex');document.getElementById('history').classList.remove('visible');let B=60;document.getElementById('timer').textContent=B;c=setInterval(()=>{B<=1?(clearInterval(c),l()):(B--,document.getElementById('timer').textContent=B)},1000);u()}function l(){clearInterval(c);document.getElementById('displayB').classList.remove('active');document.getElementById('history').classList.remove('active-flex');document.getElementById('history').classList.remove('visible');document.getElementById('displayA').classList.add('active');b=Math.max(a,b);document.getElementById('maxScore').textContent=b;document.getElementById('score').textContent=a;u()}function m(C){document.getElementById('question').textContent=e+' '+g+' '+f+' = ';C==d?(document.getElementById('playerAnswer').style.textDecorationLine='none',document.getElementById('playerAnswer').style.color='green',document.getElementById('questionAnswer').style.display='none'):(document.getElementById('playerAnswer').style.textDecorationLine='line-through',document.getElementById('playerAnswer').style.color='red',document.getElementById('questionAnswer').textContent=`${d}`,document.getElementById('questionAnswer').style.display='inline-block');document.getElementById('playerAnswer').textContent=`${C}`;document.getElementById('history').classList.add('visible')}function n(_a){v();d==h[_a]&&(a++,document.getElementById('currentScore').textContent=a);m(h[_a]);o();w()}function o(){switch(t(0,3)) {case 0:console.log('Addition');r();break;case 1:console.log('Substraction');s();break;case 2:console.log('Multiplication');p();break;case 3:console.log('Division');q();break;default:console.log('Substraction');s();break}document.getElementById('left').textContent=e;document.getElementById('operator').textContent=g;document.getElementById('right').textContent=f;for(let D=0;D<h.length;D++)document.getElementById('choice'+`${D}`).textContent=`${h[D]}`}function p(){e=t(1,9);g='x';f=t(1,9);d=e*f;let _A=t(0,3);let _b=Array(d,d,d);while (_b[0]==d)_b[0]=e*t(1,9);while (_b[1]==d||_b[1]==_b[0])_b[1]=f*t(1,9);while (_b[2]==d||_b[2]==_b[0]||_b[2]==_b[1])_b[2]=t(1,9)*t(1,9);let _c=0;for(let E=0;E<h.length;E++)E==_A?(h[E]=d):(h[E]=_b[_c],_c++)}function q(){f=t(1,9);g=':';d=t(1,9);e=d*f;let aA=t(0,3);let _B=Array(d,d,d);while (_B[0]==d)_B[0]=t(1,9);while (_B[1]==d||_B[1]==_B[0])_B[1]=((_B[1]+1)%9)+1;while (_B[2]==d||_B[2]==_B[0]||_B[2]==_B[1])_B[2]=t(1,9);let _C=0;for(let aB=0;aB<h.length;aB++)aB==aA?(h[aB]=d):(h[aB]=_B[_C],_C++)}function r(){d=t(19,95);e=t(1,d-1);g='+';f=d-e;let aC=t(0,3);let aD=Array(d,d,d);let aE=Math.max(e,f);while (aD[0]==d)aD[0]=t(d+1,100);while (aD[1]==d||aD[1]==aD[0]) {aD[1]=t(aE,100);aD[1]>3*d&&(aD[1]=d)}while (aD[2]==d||aD[2]==aD[0]||aD[2]==aD[1]) {aD[2]=t(aE,100);aD[2]>3*d&&(aD[2]=d)}let _d=0;for(let aF=0;aF<h.length;aF++)aF==aC?(h[aF]=d):(h[aF]=aD[_d],_d++)}function s(){e=t(19,95);g='-';f=t(3,e-1);d=e-f;let aG=t(0,3);let aH=Array(d,d,d);let aI=Math.max(e,f);while (aH[0]==d)aH[0]=t(1,d-1);while (aH[1]==d||aH[1]==aH[0])aH[1]=t(1,aI);while (aH[2]==d||aH[2]==aH[0]||aH[2]==aH[1])aH[2]=t(1,aI);let _D=0;for(let aJ=0;aJ<h.length;aJ++)aJ==aG?(h[aJ]=d):(h[aJ]=aH[_D],_D++)}function t(x,y){return Math.trunc(Math.random()*(y-x+1))+x}function u(){var aK=document.querySelectorAll('.choice-container button');let aL=0;for(const aO of aK){var aM=aO.offsetWidth,aN=aO.offsetHeight,_e=Math.min(aM,aN)*0.3;aL=Math.max(aL,_e);aO.style.fontSize=`${_e}px`}document.getElementById('left').style.fontSize=document.getElementById('operator').style.fontSize=document.getElementById('right').style.fontSize=`${aL*3}px`}function v(){Array.prototype.forEach.call(document.querySelectorAll('button'),function(aP){aP.disabled=!0})}function w(){Array.prototype.forEach.call(document.querySelectorAll('button'),function(aQ){aQ.disabled=!1})}
